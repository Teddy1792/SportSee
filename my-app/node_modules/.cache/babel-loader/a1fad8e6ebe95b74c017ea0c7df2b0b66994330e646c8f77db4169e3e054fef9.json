{"ast":null,"code":"var _jsxFileName = \"/Users/theodoreabitbol/Desktop/OpenClassrooms/Projet 12/my-app/src/components/LengthReport.js\";\nimport '../styles/LengthReport.scss';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ReferenceArea } from 'recharts';\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LengthReport = ({\n  lengthActivity\n}) => {\n  // If there's no data for the given user ID, return null\n  if (!lengthActivity) return null;\n  const dayLabels = [\"L\", \"M\", \"M\", \"J\", \"V\", \"S\", \"D\", \"\"];\n\n  // Calculate the maximum sessionLength in the dataset\n  const maxSessionLength = Math.max(...lengthActivity.map(session => session.sessionLength));\n  if (!lengthActivity || lengthActivity.length < 2) return null;\n\n  // Calculate the slope between the first two points and the last two points\n  const firstSlope = (lengthActivity[1].sessionLength - lengthActivity[0].sessionLength) / (lengthActivity[1].day - lengthActivity[0].day);\n  const lastSlope = (lengthActivity[lengthActivity.length - 1].sessionLength - lengthActivity[lengthActivity.length - 2].sessionLength) / (lengthActivity[lengthActivity.length - 1].day - lengthActivity[lengthActivity.length - 2].day);\n\n  // Extrapolate the sessionLength one step before the first point and one step after the last point\n  const firstExtrapolatedSessionLength = lengthActivity[0].sessionLength - firstSlope;\n  const lastExtrapolatedSessionLength = lengthActivity[lengthActivity.length - 1].sessionLength + lastSlope;\n  const extendedData = [{\n    day: 0,\n    sessionLength: firstExtrapolatedSessionLength\n  },\n  // extra point at the beginning\n  ...lengthActivity, {\n    day: 8,\n    sessionLength: lastExtrapolatedSessionLength\n  } // extra point at the end\n  ];\n\n  const CustomTooltip = ({\n    active,\n    payload\n  }) => {\n    if (active && payload && payload.length) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '20px',\n          width: '40px',\n          backgroundColor: 'white',\n          padding: '10px',\n          color: 'black',\n          fontSize: '10px',\n          fontWeight: 'bold',\n          textAlign: 'center',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: [payload[0].payload.sessionLength, \" min\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"backgroundcolor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: \"Dur\\xE9e moyenne des sessions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        width: 260,\n        height: 260,\n        data: extendedData,\n        margin: {\n          top: 0,\n          right: -10,\n          left: -10,\n          bottom: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n            id: \"colorUv\",\n            x1: \"0\",\n            y1: \"0\",\n            x2: \"1\",\n            y2: \"0\",\n            children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n              offset: \"5%\",\n              stopColor: \"white\",\n              stopOpacity: 0.3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n              offset: \"95%\",\n              stopColor: \"white\",\n              stopOpacity: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\",\n          vertical: false,\n          horizontal: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"day\",\n          tickFormatter: tickItem => tickItem === 0 ? '' : dayLabels[tickItem - 1],\n          tickLine: false,\n          axisLine: false,\n          tick: {\n            fontSize: '12px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          domain: [0, maxSessionLength * 2],\n          width: 0,\n          tick: false,\n          tickLine: false,\n          axisLine: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"sessionLength\",\n          dot: false,\n          stroke: \"url(#colorUv)\",\n          activeDot: {\n            r: 8\n          },\n          strokeWidth: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_c = LengthReport;\nvar _c;\n$RefreshReg$(_c, \"LengthReport\");","map":{"version":3,"names":["LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ReferenceArea","React","useState","useEffect","jsxDEV","_jsxDEV","LengthReport","lengthActivity","dayLabels","maxSessionLength","Math","max","map","session","sessionLength","length","firstSlope","day","lastSlope","firstExtrapolatedSessionLength","lastExtrapolatedSessionLength","extendedData","CustomTooltip","active","payload","style","height","width","backgroundColor","padding","color","fontSize","fontWeight","textAlign","display","flexDirection","justifyContent","alignItems","children","margin","fileName","_jsxFileName","lineNumber","columnNumber","className","ResponsiveContainer","data","top","right","left","bottom","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","vertical","horizontal","dataKey","tickFormatter","tickItem","tickLine","axisLine","tick","domain","content","type","dot","stroke","activeDot","r","strokeWidth","_c","$RefreshReg$"],"sources":["/Users/theodoreabitbol/Desktop/OpenClassrooms/Projet 12/my-app/src/components/LengthReport.js"],"sourcesContent":["import '../styles/LengthReport.scss';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ReferenceArea } from 'recharts';\nimport React, { useState, useEffect } from 'react';\n\nexport const LengthReport = ({ lengthActivity }) => {\n  // If there's no data for the given user ID, return null\n  if (!lengthActivity) return null;\n\n  const dayLabels = [\"L\", \"M\", \"M\", \"J\", \"V\", \"S\", \"D\", \"\"];\n\n  // Calculate the maximum sessionLength in the dataset\n  const maxSessionLength = Math.max(...lengthActivity.map(session => session.sessionLength));\n\n  if (!lengthActivity || lengthActivity.length < 2) return null;\n\n  // Calculate the slope between the first two points and the last two points\n  const firstSlope = (lengthActivity[1].sessionLength - lengthActivity[0].sessionLength) / (lengthActivity[1].day - lengthActivity[0].day);\n  const lastSlope = (lengthActivity[lengthActivity.length - 1].sessionLength - lengthActivity[lengthActivity.length - 2].sessionLength) / (lengthActivity[lengthActivity.length - 1].day - lengthActivity[lengthActivity.length - 2].day);\n\n  // Extrapolate the sessionLength one step before the first point and one step after the last point\n  const firstExtrapolatedSessionLength = lengthActivity[0].sessionLength - firstSlope;\n  const lastExtrapolatedSessionLength = lengthActivity[lengthActivity.length - 1].sessionLength + lastSlope;\n\n  const extendedData = [\n    { day: 0, sessionLength: firstExtrapolatedSessionLength }, // extra point at the beginning\n    ...lengthActivity,\n    { day: 8, sessionLength: lastExtrapolatedSessionLength }, // extra point at the end\n  ];\n\n  const CustomTooltip = ({ active, payload }) => {\n    if (active && payload && payload.length) {\n      return (\n        <div style={{\n          height: '20px',\n          width: '40px',\n          backgroundColor: 'white',\n          padding: '10px',\n          color: 'black',\n          fontSize: '10px',\n          fontWeight: 'bold',\n          textAlign: 'center',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}>\n          <p style={{ margin: 0 }}>{payload[0].payload.sessionLength} min</p>\n        </div>\n      );\n    }\n  \n    return null;\n  };\n\n  return (\n    <div className='backgroundcolor'>\n        <div className='title'>Durée moyenne des sessions</div>\n      <ResponsiveContainer width=\"100%\">\n        <LineChart\n          width={260}\n          height={260}\n          data={extendedData}\n          margin={{\n            top: 0, right: -10, left: -10, bottom: 0,\n          }}\n\n        >\n          <defs>\n            <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n              <stop offset=\"5%\" stopColor=\"white\" stopOpacity={0.3}/>\n              <stop offset=\"95%\" stopColor=\"white\" stopOpacity={1}/>\n            </linearGradient>\n          </defs>\n          <CartesianGrid strokeDasharray=\"3 3\" vertical={false} horizontal={false} />\n          <XAxis \n            dataKey=\"day\" \n            tickFormatter={(tickItem) => tickItem === 0 ? '' : dayLabels[tickItem - 1]}\n            tickLine={false}\n            axisLine={false}\n            tick={{fontSize: '12px'}}\n          />\n          <YAxis \n          domain={[0, maxSessionLength * 2]}\n          width={0}\n            tick={false}\n            tickLine={false}\n            axisLine={false}\n          />\n          <Tooltip content={<CustomTooltip />} />\n          <Line \n            type=\"monotone\" \n            dataKey=\"sessionLength\" \n            dot={false}\n            stroke=\"url(#colorUv)\" \n            activeDot={{ r: 8 }} \n            strokeWidth={4}\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}